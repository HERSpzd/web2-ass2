<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <style>
        body {
            background-color: #eef3f8;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        h1 {
            text-align: center;
        }

        #title {
            text-align: center;

        }

        #nav {
            text-align: center;
            list-style: none;
            margin: 0 auto;
            padding: 0;
            background-color: rgb(50, 142, 203);
            width: 80%;
        }

        #nav li {
            display: inline-block;
        }

        #nav li a {
            display: block;
            padding: 10px 20px;
            color: #ffffff;
            text-decoration: none;
        }

        #nav li a:hover {
            background-color: #0069d9;
        }

        #about-us,
        #inspiring-stories {
            background-color: white;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

        }

        #box1 {
            width: 80%;
            margin: 0 auto;
            padding: 0;
        }

        #box {
            width: 30%;
            float: right;
        }

        #active-fundraisers {
            width: 70%;
            float: left;
        }

        footer {
            clear: both;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>

<body>
    <h1>Crowdfunding Platform</h1>

    <ul id="nav">
        <li><a href="/"><span>Home</span></a></li>
        <li><a href="/search_fundraisers"><span>Search fundraisers</span></a></li>
        <li><a href="fundraisers"><span>Fundraisers</span></a></li>
    </ul>


    <div id="title">
        <h2>Wlcome to leading crowdfunding platform!</h2>
        <h5>Your support is the seed of hope!</h5>
    </div>
    <div id="box1">
        <div id="active-fundraisers">
            <h3>All of the active fundraisers</h3>
            <div id="all-fundraisers"></div>


            <div id="data"></div>
        </div>

        <div id="box">
            <div id="about-us">
                <h3>About us</h3>
                <p>We are a non-profit organization dedicated to helping individuals and groups in need. This is our
                    crowdfunding platform, through which you can easily contribute your efforts to worthy causes.
                    Our platform is committed to transparency, efficiency, and directness. Every fundraising project
                    undergoes
                    strict review to ensure that your donations directly reach those who need them the most. You can
                    easily
                    browse various fundraising projects and choose the ones to support based on your interests and
                    values.
                    From
                    medical assistance to educational support, from crisis relief to social innovation, there are
                    various
                    projects here that require your assistance.</p>
            </div>
            <br>

            <div id="inspiring-stories">
                <h3>Inspiring stories</h3>
                <p>A team of young farmers with a dream to build an innovative farm-one that is to be based on renewable
                    energy
                    and sustainable agriculture. Huge support was given to this idea on our platform. Today, this farm
                    provides
                    not only organic food for the local community but also an educational center of sustainable
                    agriculture,
                    with many visitors and learners from all over the country coming to visit.</p>
            </div>
        </div>

    </div>

    <footer>
        <div id="contact-info">
            <h3>Contact info</h3>
            <p>Email: crowdfunding@gmail.com</p>
            <p>Telephone: 0772-1234567890</p>         
        </div>
    </footer>

</body>

<script>
    //缺少图片
    fetch("http://localhost:3060/api/crowedfunding/fundraisers")
        .then(response => response.json())
        .then(data => {

            const dataDiv = document.getElementById('all-fundraisers');
            dataDiv.innerHTML = "";

            if (data.length > 0) {
                data.forEach(crowedfunding => {
                    const newP = document.createElement("p");
                    newP.innerHTML = `ID: ${crowedfunding.FUNDRAISER_ID} <br> 
                    Organiser: ${crowedfunding.ORGANIZER} <br> 
                    Caption: ${crowedfunding.CAPTION} <br> 
                    Target funding: ${crowedfunding.TARGET_FUNDING} <br> 
                    Current funding: ${crowedfunding.CURRENT_FUNDING} <br> 
                    City: ${crowedfunding.CITY} <br> 
                    Active: ${crowedfunding.ACTIVE} <br> 
                    Category: ${crowedfunding.CATEGORY_NAME}`;

                    dataDiv.appendChild(newP);

                    
                });

            }
            else {
                dataDiv.textContent = "No fundraiser data";
            }
        })
        .catch(error => {
            console.error("Error fecthing data", error);
            document.getElementById('data').textContent = "Failed to load data";
        });

</script>

</html>